<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Quantum Lab - Textbook Edition</title>
<style>
/* =========================================
   STYLE GLOBAL & VARIABEL
   ========================================= */
:root{
  --bg: #050505;
  --panel: #0f172a;
  --border: #334155;
  --text-main: #e2e8f0;
  --text-dim: #94a3b8;
  --accent: #06b6d4;
  --st-ok: #10b981;
  --st-warn: #f59e0b;
  --st-err: #ef4444;
}

body{
  margin:0; 
  font-family:'Segoe UI',Roboto,Helvetica,sans-serif;
  background: radial-gradient(circle at 50% -20%, #1e293b 0%, var(--bg) 80%);
  color: var(--text-main); 
  min-height: 100vh; 
  overflow: hidden; 
  user-select: none;
}

/* =========================================
   INTRO SCREEN (ANIMASI LAMPU)
   ========================================= */
#intro-screen {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: #1a1a1a; z-index: 9999;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  transition: opacity 1s ease;
}
.lamp-container { position: relative; width: 200px; height: 350px; display: flex; flex-direction: column; align-items: center; z-index: 10000; }
.shade {
  position: relative; z-index: 2; width: 180px; height: 140px; background: #444; 
  border-radius: 20px 20px 10px 10px; transform: perspective(200px) rotateX(5deg);
  transition: all 0.3s ease; box-shadow: inset 0 -10px 20px rgba(0,0,0,0.5);
  display: flex; justify-content: center; align-items: center;
}
.face { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100px; height: 40px; display: flex; justify-content: space-between; align-items: center; }
.eye { width: 25px; height: 15px; border-bottom: 3px solid #111; border-radius: 50%; transition: all 0.3s; }
.mouth { position: absolute; bottom: -5px; left: 50%; transform: translateX(-50%); width: 10px; height: 5px; background: transparent; border-radius: 50%; transition: all 0.3s; opacity: 0; }
.stand { width: 15px; height: 120px; background: #333; margin-top: -10px; z-index: 1; }
.base { width: 100px; height: 20px; background: #333; border-radius: 50%; margin-top: -5px; box-shadow: 0 5px 10px rgba(0,0,0,0.5); }
.cord-wrap { position: absolute; top: 130px; left: 40px; z-index: 0; }
.cord { width: 2px; height: 100px; background: #888; margin: 0 auto; transition: height 0.1s; }
.knob { width: 12px; height: 25px; background: #aaa; border-radius: 10px; margin-left: -5px; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.5); transition: transform 0.1s; z-index: 10001; }
.knob:hover { background: #fff; }
.active .shade { background: #facc15; box-shadow: 0 0 80px rgba(250, 204, 21, 0.6), inset 0 -10px 20px rgba(255, 165, 0, 0.5); }
.active .eye { border-bottom: none; background: #333; width: 12px; height: 12px; border-radius: 50%; transform: translateY(-5px); }
.active .mouth { opacity: 1; width: 30px; height: 15px; border-bottom: 3px solid #333; border-radius: 50%; }
.instruction { margin-top: 50px; color: #666; font-size: 14px; letter-spacing: 1px; font-family: monospace; animation: blink 2s infinite; }
@keyframes blink { 50% { opacity: 0.3; } }
.flash-bang { position: fixed; top:0; left:0; width:100%; height:100%; background: white; opacity: 0; pointer-events: none; transition: opacity 1.5s ease-out; z-index: 10000; }
.flashing { opacity: 1 !important; transition: opacity 0.1s ease-in !important; }

/* =========================================
   LAYOUT UTAMA APLIKASI
   ========================================= */
.container{max-width:1200px; margin:0 auto; padding:20px; opacity: 0; transition: opacity 1.5s ease;}
.container.visible { opacity: 1; }

.header{ display:flex; justify-content:space-between; align-items:center; border-bottom: 1px solid var(--border); padding-bottom:15px; margin-bottom:25px; }
.header h1{ margin:0; font-weight:800; letter-spacing:-1px; background: linear-gradient(to right, #fff, var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

.btn-group { display: flex; gap: 10px; }
.btn { padding: 8px 12px; border-radius: 6px; cursor: pointer; font-size: 13px; font-weight: bold; border: 1px solid var(--border); transition: all 0.2s; }
.btn-reset { background: var(--panel); color: white; }
.btn-theory { background: rgba(6, 182, 212, 0.2); color: var(--accent); border-color: var(--accent); }
.btn-save { background: rgba(16, 185, 129, 0.2); color: var(--st-ok); border-color: var(--st-ok); }
.btn:hover { transform: translateY(-2px); filter: brightness(1.2); }

.main-grid{ display: grid; grid-template-columns: 350px 1fr; gap: 25px; }
@media(max-width:900px){ .main-grid{grid-template-columns: 1fr;} }

.card{ background: rgba(15,23,42,0.7); border: 1px solid var(--border); border-radius: 12px; padding: 20px; backdrop-filter: blur(10px); box-shadow: 0 10px 25px rgba(0,0,0,0.5); }

/* CONTROLS (SLIDER & INPUT) */
.search-group { margin-bottom: 20px; }
.search-box { width: 100%; padding: 12px; background: #020617; border: 1px solid var(--border); color: white; border-radius: 8px; font-size: 14px; outline: none; }
.config-display { font-family: 'Courier New', monospace; font-size: 13px; color: var(--accent); margin-top: 8px; background: rgba(6, 182, 212, 0.1); padding: 8px; border-radius: 6px; border: 1px dashed var(--accent); }

.control-group { margin-bottom: 20px; }
.ctl-header { display: flex; justify-content: space-between; font-size: 13px; color: var(--text-dim); margin-bottom: 8px; }
.ctl-val { font-family: 'Consolas', monospace; color: var(--accent); font-weight: bold; }

input[type=range]{ width: 100%; -webkit-appearance: none; background: transparent; cursor: pointer; }
input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 6px; background: #334155; border-radius: 3px; }
input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 18px; width: 18px; border-radius: 50%; background: white; margin-top: -6px; box-shadow: 0 0 10px white; }
.spectrum { height: 6px; width: 100%; border-radius: 3px; margin: 8px 0; opacity: 0.8; background: linear-gradient(90deg, #500 0%, #f00 13%, #ff0 25%, #0f0 38%, #0ff 50%, #00f 63%, #f0f 75%, #409 100%); }

/* METRICS & TUTOR */
.metrics { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 20px; }
.metric-item { background: #020617; border: 1px solid var(--border); border-radius: 8px; padding: 10px; text-align: center; }
.metric-label { font-size: 10px; text-transform: uppercase; color: var(--text-dim); letter-spacing: 1px; }
.metric-val { font-size: 16px; font-weight: bold; color: white; margin-top: 4px; }

.tutor-panel { margin-top: 20px; padding: 15px; border-radius: 10px; background: #0f172a; border-left: 4px solid var(--border); transition: all 0.3s ease; min-height: 120px; }
.tutor-head { display: flex; align-items: center; gap: 8px; font-size: 12px; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; }
.tutor-text { font-size: 14px; line-height: 1.6; color: var(--text-main); }
.hl { font-weight: 700; color: white; background: rgba(255,255,255,0.1); padding: 0 4px; border-radius: 4px; }
.hl-err { color: var(--st-err); }
.hl-ok { color: var(--st-ok); }

.canvas-wrap { position: relative; height: 420px; width: 100%; background: #000; border-radius: 12px; border: 1px solid var(--border); overflow: hidden; }
.table-container { margin-top: 20px; max-height: 250px; overflow-y: auto; border: 1px solid var(--border); border-radius: 8px; }
table { width: 100%; border-collapse: collapse; font-size: 13px; }
th { position: sticky; top: 0; background: #0f172a; color: var(--text-dim); padding: 12px; text-align: left; }
td { padding: 8px 12px; border-bottom: 1px solid #1e293b; cursor: pointer; }
tr:hover { background: rgba(255,255,255,0.05); }

/* SELECT BOX STYLE (DROPDOWN VOLTAGE) */
.range-select { background: #020617; color: white; border: 1px solid var(--border); padding: 5px; border-radius: 5px; font-size: 12px; cursor: pointer; float: right; margin-top: -3px;}

/* MODAL THEORY - TEXTBOOK EDITION */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
.modal-box { background: #1e293b; padding: 30px; border-radius: 15px; border: 1px solid var(--accent); max-width: 800px; width: 95%; color: white; position: relative; box-shadow: 0 0 50px rgba(6,182,212,0.3); max-height: 90vh; overflow-y: auto; }
.modal-close { position: absolute; top: 15px; right: 20px; font-size: 24px; cursor: pointer; color: var(--text-dim); }
.formula-block { background: #0f172a; padding: 12px; border-radius: 8px; font-family: 'Segoe UI', sans-serif; font-size: 20px; font-weight: bold; text-align: center; margin: 10px 0; border-left: 4px solid var(--accent); letter-spacing: 1px; color: var(--accent); }
.var-list { font-size: 13px; color: var(--text-dim); line-height: 1.6; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px;}
.const-table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 13px; }
.const-table td { border-bottom: 1px solid #334155; padding: 6px; }
.const-table th { text-align: left; color: var(--accent); border-bottom: 2px solid var(--accent); padding: 6px; }
h3 { color: var(--text-main); border-bottom: 1px solid #334155; padding-bottom: 5px; margin-top: 30px; font-size: 16px; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; }
p, li { font-size: 14px; line-height: 1.6; color: #cbd5e1; margin-bottom: 8px; }
.concept-box { background: rgba(255,255,255,0.05); padding: 10px; border-radius: 6px; margin-bottom: 10px; border-left: 3px solid #f59e0b; font-size: 13px; color: #e2e8f0; }
</style>
</head>
<body>

<div id="flash" class="flash-bang"></div>

<div id="intro-screen">
  <div class="lamp-container" id="lamp">
    <div class="shade"><div class="face"><div class="eye left"></div><div class="eye right"></div><div class="mouth"></div></div></div>
    <div class="cord-wrap"><div class="cord" id="cordLine"></div><div class="knob" id="cordKnob" onclick="toggleLamp()"></div></div>
    <div class="stand"></div><div class="base"></div>
  </div>
  <div class="instruction">KLIK TALI UNTUK MENYALAKAN</div>
</div>

<div id="theoryModal" class="modal-overlay">
  <div class="modal-box">
    <span class="modal-close" onclick="closeTheory()">&times;</span>
    <h2 style="margin-top:0; color:var(--accent); text-align:center;">MODUL BELAJAR: EFEK FOTOLISTRIK</h2>
    
    <h3>1. Apa Itu Efek Fotolistrik?</h3>
    <p>Efek fotolistrik adalah fenomena terlepasnya elektron dari permukaan logam ketika disinari oleh cahaya. Elektron yang lepas ini disebut <b>Fotoelektron</b>. Fenomena ini pertama kali dijelaskan dengan benar oleh <b>Albert Einstein</b> pada tahun 1905.</p>

    <h3>2. Mengapa Fisika Klasik Gagal?</h3>
    <p>Teori gelombang klasik memprediksi bahwa energi cahaya bergantung pada <b>Intensitas (Terang/Redup)</b>. Menurut teori ini:</p>
    <ul>
        <li>Cahaya warna apapun (termasuk Merah) harusnya bisa melepaskan elektron asalkan <b>sangat terang</b>.</li>
        <li>Kenyataannya: Cahaya Merah super terang tetap <b>GAGAL</b> melepaskan elektron pada banyak logam, sedangkan cahaya Biru redup justru <b>BERHASIL</b>.</li>
    </ul>
    <div class="concept-box">
      <b>Kesimpulan:</b> Cahaya bukan hanya gelombang kontinu, tetapi paket-paket energi diskrit.
    </div>

    <h3>3. Teori Kuantum (Konsep Foton)</h3>
    <p>Einstein menyatakan bahwa cahaya terdiri dari paket energi bernama <b>Foton</b>. Energi satu foton bergantung pada frekuensinya (warnanya), bukan intensitasnya.</p>
    <div class="formula-block">E = hf</div>
    <p style="font-size:12px; text-align:center;">(Energi = Konstanta Planck √ó Frekuensi)</p>

    <h3>4. Persamaan Energi Einstein</h3>
    <p>Saat foton menumbuk elektron, energinya digunakan untuk dua hal: Membayar energi ikat logam (Fungsi Kerja) dan sisanya untuk bergerak (Energi Kinetik).</p>
    <div class="formula-block">K<sub>max</sub> = hf - &#934;</div>
    
    <div class="var-list">
      <div><b>Kmax</b> : Energi Kinetik Maksimum.</div>
      <div><b>hf</b> : Energi Foton yang datang.</div>
      <div><b>&#934; (Phi)</b> : Fungsi Kerja (Energi ikat logam).</div>
    </div>

    <h3>5. Analogi Sederhana: "Tiket Bioskop"</h3>
    <p>Bayangkan elektron terkurung di dalam gedung. Untuk keluar, dia harus membayar tiket seharga <b>Rp 50.000 (Fungsi Kerja &#934;)</b>.</p>
    <ul>
      <li><b>Kasus A:</b> Kamu punya uang Rp 30.000 (Energi Merah). Meskipun kamu bawa 1000 lembar (Intensitas Tinggi), tiap lembar tetap Rp 30.000. Tiket tidak terbeli. (Gagal).</li>
      <li><b>Kasus B:</b> Kamu punya uang Rp 100.000 (Energi Ungu). Kamu bayar tiket 50rb, sisa <b>50rb (Energi Kinetik)</b> bisa dipakai lari jajan. (Berhasil).</li>
    </ul>

    <h3>6. Hukum-Hukum Utama</h3>
    <ul>
      <li><b>Frekuensi Ambang (f<sub>0</sub>):</b> Tiap logam punya batas minimal frekuensi. Jika f < f<sub>0</sub>, tidak ada elektron lepas.</li>
      <li><b>Hubungan Intensitas:</b> Jika syarat frekuensi terpenuhi, Intensitas menentukan <b>JUMLAH</b> elektron yang lepas (Besar Arus), bukan kecepatan elektron.</li>
      <li><b>Tanpa Jeda Waktu:</b> Elektron lepas seketika (instant) saat disinari, ciri khas sifat partikel.</li>
    </ul>

    <h3>7. Potensial Henti (Stopping Potential)</h3>
    <p>Untuk mengukur Energi Kinetik elektron, kita bisa memberikan tegangan negatif (kutub dibalik) untuk "mengerem" elektron. Tegangan minimal agar arus menjadi nol disebut Potensial Henti (Vs).</p>
    <div class="formula-block">V<sub>stop</sub> = K<sub>max</sub> / e</div>

    <h3>8. Aplikasi Nyata</h3>
    <p>Prinsip ini digunakan pada teknologi sehari-hari:</p>
    <ul>
        <li><b>Panel Surya:</b> Mengubah cahaya matahari jadi listrik.</li>
        <li><b>Sensor Pintu Mall:</b> Mendeteksi jika sinar terhalang orang.</li>
        <li><b>Kamera Digital (CCD):</b> Menangkap cahaya menjadi piksel gambar.</li>
    </ul>

    <h3>9. Grafik Hubungan Energi vs Frekuensi</h3>
    <p>Jika kita memplot grafik Energi Kinetik ($K_{max}$) terhadap Frekuensi ($f$), kita akan mendapatkan garis lurus. Kemiringan (gradien) garis ini selalu sama untuk semua logam, yaitu nilai <b>Konstanta Planck ($h$)</b>.</p>

    <h3>10. Satuan Energi: eV vs Joule</h3>
    <p>Dalam dunia atom, satuan Joule terlalu besar. Kita menggunakan <b>electron-Volt (eV)</b>.</p>
    <div class="concept-box">
      1 eV = 1.6 √ó 10<sup>-19</sup> Joule
    </div>

    <h3>11. Kesimpulan Akhir: Dualisme</h3>
    <p>Eksperimen ini membuktikan <b>Dualisme Gelombang-Partikel</b>: Cahaya bisa berperilaku sebagai gelombang (interferensi) dan juga sebagai partikel (efek fotolistrik).</p>

    <h3>12. Tabel Konstanta Fisika</h3>
    <table class="const-table">
      <tr><th>Konstanta</th><th>Simbol</th><th>Nilai</th></tr>
      <tr><td>Konstanta Planck</td><td>h</td><td>4.136 x 10<sup>-15</sup> eV.s</td></tr>
      <tr><td>Muatan Elektron</td><td>e</td><td>1.602 x 10<sup>-19</sup> C</td></tr>
      <tr><td>Massa Elektron</td><td>m<sub>e</sub></td><td>9.109 x 10<sup>-31</sup> kg</td></tr>
      <tr><td>Kecepatan Cahaya</td><td>c</td><td>3 x 10<sup>8</sup> m/s</td></tr>
    </table>
    <br>
    <div style="text-align:center; color:#666; font-size:12px;"><i>Modul Pembelajaran Interaktif - Kelompok 4</i></div>
  </div>
</div>

<div class="container" id="mainApp">
  <div class="header">
    <div>
      <h1>Efek Fotolistrik <span style="font-size:0.5em; vertical-align:middle; border:1px solid var(--accent); color:var(--accent); padding:2px 6px; border-radius:4px;">KELOMPOK 4</span></h1>
      <div style="font-size:14px; color:var(--text-dim)">Simulasi Ultimate + Modul Belajar Lengkap (12 Poin)</div>
    </div>
    <div class="btn-group">
      <button onclick="openTheory()" class="btn btn-theory">üìñ Materi</button>
      <button onclick="saveData()" class="btn btn-save">üíæ Simpan Data</button>
      <button onclick="reset()" class="btn btn-reset">Reset</button>
    </div>
  </div>

  <div class="main-grid">
    <div class="card">
      <div class="search-group">
        <label class="ctl-header">CARI MATERIAL</label>
        <input list="materials" id="search" class="search-box" placeholder="Cth: Emas, Au, Besi...">
        <datalist id="materials"></datalist>
        <div class="config-display" id="configDisp">Konfigurasi: -</div>
      </div>
      <div class="control-group">
        <div class="ctl-header"><span>Frekuensi Cahaya (f)</span><span class="ctl-val"><span id="vF">550</span> THz</span></div>
        <div class="spectrum"></div>
        <input id="rF" type="range" min="200" max="1800" step="10" value="550">
        <div id="colName" style="text-align:center; font-size:12px; font-weight:bold; margin-top:4px;">Hijau</div>
      </div>
      <div class="control-group">
        <div class="ctl-header"><span>Fungsi Kerja Logam (Œ¶)</span><span class="ctl-val"><span id="vPhi">2.30</span> eV</span></div>
        <input id="rPhi" type="range" min="1.8" max="6.5" step="0.01" value="2.30">
      </div>
      <div class="control-group">
        <div class="ctl-header"><span>Intensitas Cahaya</span><span class="ctl-val" id="vI">60%</span></div>
        <input id="rI" type="range" min="0" max="1" step="0.01" value="0.60">
      </div>
      <div class="metrics">
        <div class="metric-item"><div class="metric-label">Energi Foton</div><div class="metric-val" id="mEph">0.00 eV</div></div>
        <div class="metric-item"><div class="metric-label">Energi Kinetik</div><div class="metric-val" id="mK">0.00 eV</div></div>
        <div class="metric-item"><div class="metric-label">Potensial Henti</div><div class="metric-val" id="mVs" style="color:#ff0055">0.00 V</div></div>
      </div>
      <button id="btnSweep" style="width:100%; margin-top:20px; padding:12px; background:var(--accent); color:black; font-weight:bold; border:none; border-radius:8px; cursor:pointer;" onclick="sfx('blip')">‚ñ∂ Auto Sweep Tegangan</button>
    </div>

    <div>
      <div class="card" style="padding:0; border:none; overflow:hidden;">
        <div class="canvas-wrap">
          <div style="position:absolute; top:10px; left:15px; z-index:5;">
             <label style="color:#94a3b8; font-size:11px; font-weight:bold; display:block;">ATUR SKALA:</label>
             <select id="rangeSelector" class="range-select" onchange="updateRange()">
                <option value="1">¬± 1 Volt (Teliti)</option>
                <option value="3" selected>¬± 3 Volt (Normal)</option>
                <option value="5">¬± 5 Volt (Luas)</option>
                <option value="10">¬± 10 Volt (Ekstrem)</option>
             </select>
          </div>
          <canvas id="cv" width="800" height="420"></canvas>
          <div style="position:absolute; bottom:10px; right:15px; font-size:12px; color:var(--text-dim); text-align:right;">Sumbu X: Tegangan (V) &nbsp;|&nbsp; Sumbu Y: Arus (I)</div>
        </div>
      </div>
      <div id="tutorBox" class="tutor-panel">
        <div class="tutor-head" id="tutorHead"><span>ü§ñ</span> STATUS: MENUNGGU</div>
        <div class="tutor-text" id="tutorMsg">Database memuat 80+ unsur. Silakan pilih material untuk memulai.</div>
      </div>
      <div class="table-container">
        <table id="matTable"><thead><tr><th>Material</th><th>Simbol</th><th>Elektron</th><th>Fungsi Kerja (Œ¶)</th></tr></thead><tbody></tbody></table>
      </div>
    </div>
  </div>
</div>

<script>
// --- AUDIO ENGINE ---
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
function sfx(type) {
  if (audioCtx.state === 'suspended') audioCtx.resume();
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.connect(gain); gain.connect(audioCtx.destination);
  if(type==='click'){osc.type='square';osc.frequency.setValueAtTime(150,audioCtx.currentTime);osc.frequency.exponentialRampToValueAtTime(40,audioCtx.currentTime+0.1);gain.gain.setValueAtTime(0.1,audioCtx.currentTime);gain.gain.exponentialRampToValueAtTime(0.01,audioCtx.currentTime+0.1);osc.start();osc.stop(audioCtx.currentTime+0.1);}
  else if(type==='hum'){osc.type='sawtooth';osc.frequency.setValueAtTime(50,audioCtx.currentTime);gain.gain.setValueAtTime(0.05,audioCtx.currentTime);gain.gain.exponentialRampToValueAtTime(0.001,audioCtx.currentTime+1.5);osc.start();osc.stop(audioCtx.currentTime+1.5);}
  else if(type==='blip'){osc.type='sine';osc.frequency.setValueAtTime(800,audioCtx.currentTime);gain.gain.setValueAtTime(0.05,audioCtx.currentTime);gain.gain.exponentialRampToValueAtTime(0.001,audioCtx.currentTime+0.1);osc.start();osc.stop(audioCtx.currentTime+0.1);}
  else if(type==='success'){osc.type='triangle';osc.frequency.setValueAtTime(440,audioCtx.currentTime);osc.frequency.setValueAtTime(554,audioCtx.currentTime+0.1);gain.gain.setValueAtTime(0.05,audioCtx.currentTime);gain.gain.linearRampToValueAtTime(0,audioCtx.currentTime+0.4);osc.start();osc.stop(audioCtx.currentTime+0.4);}
  else if(type==='error'){osc.type='sawtooth';osc.frequency.setValueAtTime(150,audioCtx.currentTime);osc.frequency.linearRampToValueAtTime(100,audioCtx.currentTime+0.3);gain.gain.setValueAtTime(0.05,audioCtx.currentTime);gain.gain.linearRampToValueAtTime(0,audioCtx.currentTime+0.3);osc.start();osc.stop(audioCtx.currentTime+0.3);}
}

// --- GLOBAL VARIABLES ---
let startTime = Date.now();
let MAX_V = 3; 

// --- LOGIC FUNCTIONS ---
function toggleLamp() {
  sfx('click'); const lamp=$('lamp'),cord=$('cordLine'),knob=$('cordKnob'),flash=$('flash'),intro=$('intro-screen'),main=$('mainApp');
  cord.style.height='120px';knob.style.transform='translateY(20px)';
  setTimeout(()=>{cord.style.height='100px';knob.style.transform='translateY(0)';lamp.classList.add('active');sfx('hum');setTimeout(()=>{flash.classList.add('flashing');setTimeout(()=>{intro.style.display='none';document.body.style.overflow='auto';flash.classList.remove('flashing');main.classList.add('visible');startTime=Date.now();},500);},300);},150);
}
function openTheory(){sfx('blip');$('theoryModal').style.display='flex';}
function closeTheory(){sfx('blip');$('theoryModal').style.display='none';}

function updateRange() {
    sfx('blip');
    MAX_V = parseFloat(document.getElementById('rangeSelector').value);
    draw(); 
}

function saveData() {
    sfx('blip'); const phys=calculatePhysics(); const durationSec=((Date.now()-startTime)/1000).toFixed(1);
    const tableContent = `<html xmlns:x="urn:schemas-microsoft-com:office:excel"><head><meta http-equiv="content-type" content="text/plain; charset=UTF-8"/><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Data Eksperimen</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml></head><body><table border="1" style="font-family:Arial,sans-serif;border-collapse:collapse;"><tr style="background-color:#06b6d4;color:white;font-weight:bold;"><td colspan="2" align="center" style="padding:10px;">LAPORAN DATA EKSPERIMEN FOTOLISTRIK</td></tr><tr style="background-color:#f2f2f2;"><td style="padding:5px;"><b>PARAMETER</b></td><td style="padding:5px;"><b>NILAI</b></td></tr><tr><td>Material</td><td>${state.matName}</td></tr><tr><td>Simbol</td><td>${DB.find(x=>x.n===state.matName)?.s||"-"}</td></tr><tr><td>Fungsi Kerja (eV)</td><td>${state.phi}</td></tr><tr><td>Frekuensi Cahaya (THz)</td><td>${state.f}</td></tr><tr><td>Energi Foton (eV)</td><td>${phys.Eph.toFixed(4)}</td></tr><tr><td>Energi Kinetik (eV)</td><td>${phys.Kmax.toFixed(4)}</td></tr><tr><td>Potensial Henti (V)</td><td>${phys.Vs.toFixed(4)}</td></tr><tr><td>Status</td><td style="color:${phys.emission?'green':'red'};font-weight:bold;">${phys.emission?"BERHASIL":"GAGAL"}</td></tr><tr><td>Rentang Tegangan</td><td>¬± ${MAX_V} Volt</td></tr><tr><td>Durasi Pengamatan</td><td>${durationSec} detik</td></tr><tr><td>Waktu Simpan</td><td>${new Date().toLocaleString()}</td></tr></table></body></html>`;
    const blob=new Blob([tableContent],{type:"application/vnd.ms-excel"});
    const link=document.createElement("a"); link.href=URL.createObjectURL(blob); link.download=`Laporan_${state.matName}.xls`;
    document.body.appendChild(link); link.click(); document.body.removeChild(link);
}

// --- DATABASE 88 UNSUR (FORMAT LENGKAP/PANJANG) ---
// Ini saya tulis lengkap ke bawah agar baris kodingan tetap banyak sesuai request.
const DB=[
  // --- GOLONGAN IA (ALKALI) ---
  {n:"Cesium", s:"Cs", p:2.14, c:"Alkali", ec:"[Xe] 6s¬π"},
  {n:"Rubidium", s:"Rb", p:2.26, c:"Alkali", ec:"[Kr] 5s¬π"},
  {n:"Kalium", s:"K", p:2.29, c:"Alkali", ec:"[Ar] 4s¬π"},
  {n:"Natrium", s:"Na", p:2.36, c:"Alkali", ec:"[Ne] 3s¬π"},
  {n:"Lithium", s:"Li", p:2.50, c:"Alkali", ec:"[He] 2s¬π"},

  // --- GOLONGAN IIA (ALKALI TANAH) ---
  {n:"Barium", s:"Ba", p:2.52, c:"Alkali Tanah", ec:"[Xe] 6s¬≤"},
  {n:"Stronsium", s:"Sr", p:2.59, c:"Alkali Tanah", ec:"[Kr] 5s¬≤"},
  {n:"Kalsium", s:"Ca", p:2.87, c:"Alkali Tanah", ec:"[Ar] 4s¬≤"},
  {n:"Magnesium", s:"Mg", p:3.66, c:"Alkali Tanah", ec:"[Ne] 3s¬≤"},
  {n:"Berilium", s:"Be", p:4.98, c:"Alkali Tanah", ec:"[He] 2s¬≤"},

  // --- TRANSISI PERIODE 4 ---
  {n:"Scandium", s:"Sc", p:3.50, c:"Transisi", ec:"[Ar] 3d¬π 4s¬≤"},
  {n:"Titanium", s:"Ti", p:4.33, c:"Transisi", ec:"[Ar] 3d¬≤ 4s¬≤"},
  {n:"Vanadium", s:"V", p:4.30, c:"Transisi", ec:"[Ar] 3d¬≥ 4s¬≤"},
  {n:"Kromium", s:"Cr", p:4.50, c:"Transisi", ec:"[Ar] 3d‚Åµ 4s¬π"},
  {n:"Mangan", s:"Mn", p:4.10, c:"Transisi", ec:"[Ar] 3d‚Åµ 4s¬≤"},
  {n:"Besi", s:"Fe", p:4.67, c:"Transisi", ec:"[Ar] 3d‚Å∂ 4s¬≤"},
  {n:"Kobalt", s:"Co", p:5.00, c:"Transisi", ec:"[Ar] 3d‚Å∑ 4s¬≤"},
  {n:"Nikel", s:"Ni", p:5.15, c:"Transisi", ec:"[Ar] 3d‚Å∏ 4s¬≤"},
  {n:"Tembaga", s:"Cu", p:4.65, c:"Transisi", ec:"[Ar] 3d¬π‚Å∞ 4s¬π"},
  {n:"Seng", s:"Zn", p:4.33, c:"Transisi", ec:"[Ar] 3d¬π‚Å∞ 4s¬≤"},

  // --- TRANSISI PERIODE 5 ---
  {n:"Yttrium", s:"Y", p:3.10, c:"Transisi", ec:"[Kr] 4d¬π 5s¬≤"},
  {n:"Zirkonium", s:"Zr", p:4.05, c:"Transisi", ec:"[Kr] 4d¬≤ 5s¬≤"},
  {n:"Niobium", s:"Nb", p:4.30, c:"Transisi", ec:"[Kr] 4d‚Å¥ 5s¬π"},
  {n:"Molybdenum", s:"Mo", p:4.60, c:"Transisi", ec:"[Kr] 4d‚Åµ 5s¬π"},
  {n:"Ruthenium", s:"Ru", p:4.71, c:"Transisi", ec:"[Kr] 4d‚Å∑ 5s¬π"},
  {n:"Rhodium", s:"Rh", p:4.98, c:"Transisi", ec:"[Kr] 4d‚Å∏ 5s¬π"},
  {n:"Palladium", s:"Pd", p:5.12, c:"Transisi", ec:"[Kr] 4d¬π‚Å∞"},
  {n:"Perak", s:"Ag", p:4.26, c:"Transisi", ec:"[Kr] 4d¬π‚Å∞ 5s¬π"},
  {n:"Kadmium", s:"Cd", p:4.08, c:"Transisi", ec:"[Kr] 4d¬π‚Å∞ 5s¬≤"},

  // --- TRANSISI PERIODE 6 ---
  {n:"Hafnium", s:"Hf", p:3.90, c:"Transisi", ec:"[Xe] 4f¬π‚Å¥ 5d¬≤ 6s¬≤"},
  {n:"Tantalum", s:"Ta", p:4.25, c:"Transisi", ec:"[Xe] 4f¬π‚Å¥ 5d¬≥ 6s¬≤"},
  {n:"Tungsten", s:"W", p:4.55, c:"Transisi", ec:"[Xe] 4f¬π‚Å¥ 5d‚Å¥ 6s¬≤"},
  {n:"Rhenium", s:"Re", p:4.96, c:"Transisi", ec:"[Xe] 4f¬π‚Å¥ 5d‚Åµ 6s¬≤"},
  {n:"Osmium", s:"Os", p:5.93, c:"Transisi", ec:"[Xe] 4f¬π‚Å¥ 5d‚Å∂ 6s¬≤"},
  {n:"Iridium", s:"Ir", p:5.27, c:"Transisi", ec:"[Xe] 4f¬π‚Å¥ 5d‚Å∑ 6s¬≤"},
  {n:"Platinum", s:"Pt", p:6.35, c:"Transisi", ec:"[Xe] 4f¬π‚Å¥ 5d‚Åπ 6s¬π"},
  {n:"Emas", s:"Au", p:5.10, c:"Transisi", ec:"[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬π"},
  {n:"Raksa", s:"Hg", p:4.49, c:"Transisi", ec:"[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤"},

  // --- LOGAM POST-TRANSISI ---
  {n:"Aluminium", s:"Al", p:4.08, c:"Post-Trans", ec:"[Ne] 3s¬≤ 3p¬π"},
  {n:"Gallium", s:"Ga", p:4.20, c:"Post-Trans", ec:"[Ar] 3d¬π‚Å∞ 4s¬≤ 4p¬π"},
  {n:"Indium", s:"In", p:4.12, c:"Post-Trans", ec:"[Kr] 4d¬π‚Å∞ 5s¬≤ 5p¬π"},
  {n:"Timah", s:"Sn", p:4.42, c:"Post-Trans", ec:"[Kr] 4d¬π‚Å∞ 5s¬≤ 5p¬≤"},
  {n:"Thallium", s:"Tl", p:3.84, c:"Post-Trans", ec:"[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p¬π"},
  {n:"Timbal", s:"Pb", p:4.25, c:"Post-Trans", ec:"[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p¬≤"},
  {n:"Bismuth", s:"Bi", p:4.22, c:"Post-Trans", ec:"[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p¬≥"},
  {n:"Polonium", s:"Po", p:4.61, c:"Post-Trans", ec:"[Xe] 4f¬π‚Å¥ 5d¬π‚Å∞ 6s¬≤ 6p‚Å¥"},

  // --- METALOID ---
  {n:"Boron", s:"B", p:4.45, c:"Metaloid", ec:"[He] 2s¬≤ 2p¬π"},
  {n:"Silikon", s:"Si", p:4.85, c:"Metaloid", ec:"[Ne] 3s¬≤ 3p¬≤"},
  {n:"Germanium", s:"Ge", p:5.00, c:"Metaloid", ec:"[Ar] 3d¬π‚Å∞ 4s¬≤ 4p¬≤"},
  {n:"Arsenik", s:"As", p:3.75, c:"Metaloid", ec:"[Ar] 3d¬π‚Å∞ 4s¬≤ 4p¬≥"},
  {n:"Antimon", s:"Sb", p:4.55, c:"Metaloid", ec:"[Kr] 4d¬π‚Å∞ 5s¬≤ 5p¬≥"},
  {n:"Tellurium", s:"Te", p:4.95, c:"Metaloid", ec:"[Kr] 4d¬π‚Å∞ 5s¬≤ 5p‚Å¥"},

  // --- NON-LOGAM ---
  {n:"Karbon", s:"C", p:5.00, c:"Non-Logam", ec:"[He] 2s¬≤ 2p¬≤"},
  {n:"Fosfor", s:"P", p:4.42, c:"Non-Logam", ec:"[Ne] 3s¬≤ 3p¬≥"},
  {n:"Sulfur", s:"S", p:4.78, c:"Non-Logam", ec:"[Ne] 3s¬≤ 3p‚Å¥"},
  {n:"Selenium", s:"Se", p:5.90, c:"Non-Logam", ec:"[Ar] 3d¬π‚Å∞ 4s¬≤ 4p‚Å¥"},
  {n:"Yodium", s:"I", p:5.40, c:"Halogen", ec:"[Kr] 4d¬π‚Å∞ 5s¬≤ 5p‚Åµ"},

  // --- LANTANIDA (TANAH JARANG) ---
  {n:"Lanthanum", s:"La", p:3.50, c:"Lantanida", ec:"[Xe] 5d¬π 6s¬≤"},
  {n:"Cerium", s:"Ce", p:2.90, c:"Lantanida", ec:"[Xe] 4f¬π 5d¬π 6s¬≤"},
  {n:"Praseodim", s:"Pr", p:2.70, c:"Lantanida", ec:"[Xe] 4f¬≥ 6s¬≤"},
  {n:"Neodimium", s:"Nd", p:3.20, c:"Lantanida", ec:"[Xe] 4f‚Å¥ 6s¬≤"},
  {n:"Promethium", s:"Pm", p:3.05, c:"Lantanida", ec:"[Xe] 4f‚Åµ 6s¬≤"},
  {n:"Samarium", s:"Sm", p:2.70, c:"Lantanida", ec:"[Xe] 4f‚Å∂ 6s¬≤"},
  {n:"Europium", s:"Eu", p:2.50, c:"Lantanida", ec:"[Xe] 4f‚Å∑ 6s¬≤"},
  {n:"Gadolinium", s:"Gd", p:3.10, c:"Lantanida", ec:"[Xe] 4f‚Å∑ 5d¬π 6s¬≤"},
  {n:"Terbium", s:"Tb", p:3.00, c:"Lantanida", ec:"[Xe] 4f‚Åπ 6s¬≤"},
  {n:"Dysprosium", s:"Dy", p:3.08, c:"Lantanida", ec:"[Xe] 4f¬π‚Å∞ 6s¬≤"},
  {n:"Holmium", s:"Ho", p:3.15, c:"Lantanida", ec:"[Xe] 4f¬π¬π 6s¬≤"},
  {n:"Erbium", s:"Er", p:3.10, c:"Lantanida", ec:"[Xe] 4f¬π¬≤ 6s¬≤"},
  {n:"Thulium", s:"Tm", p:3.08, c:"Lantanida", ec:"[Xe] 4f¬π¬≥ 6s¬≤"},
  {n:"Ytterbium", s:"Yb", p:2.60, c:"Lantanida", ec:"[Xe] 4f¬π‚Å¥ 6s¬≤"},
  {n:"Lutetium", s:"Lu", p:3.30, c:"Lantanida", ec:"[Xe] 4f¬π‚Å¥ 5d¬π 6s¬≤"},

  // --- AKTINIDA ---
  {n:"Thorium", s:"Th", p:3.40, c:"Aktinida", ec:"[Rn] 6d¬≤ 7s¬≤"},
  {n:"Uranium", s:"U", p:3.60, c:"Aktinida", ec:"[Rn] 5f¬≥ 6d¬π 7s¬≤"},
  {n:"Plutonium", s:"Pu", p:3.40, c:"Aktinida", ec:"[Rn] 5f‚Å∂ 7s¬≤"}
];

const $ = id => document.getElementById(id);
const ctx = $('cv').getContext('2d');
const h = 4.1357e-15; 
let state = { phi: 2.36, f: 550, I: 0.60, V: -3, matName: "Natrium", ec: "[Ne] 3s¬π", sweep: false };

function init(){
  DB.sort((a,b) => a.p - b.p);
  DB.forEach(m => {
    let opt = document.createElement('option'); opt.value = m.n; $('materials').appendChild(opt);
    let tr = document.createElement('tr');
    tr.innerHTML = `<td style="font-weight:bold; color:white">${m.n}</td><td style="color:var(--accent)">${m.s}</td><td style="font-family:monospace; font-size:11px; color:#fff">${m.ec}</td><td style="font-family:monospace">${m.p.toFixed(2)} eV</td>`;
    tr.onclick = () => { sfx('blip'); loadMaterial(m); };
    $('matTable').querySelector('tbody').appendChild(tr);
  });
  loadMaterial(DB.find(x => x.n === "Natrium"));
}

function calculatePhysics() {
  const fHz = state.f * 1e12; const Eph = h * fHz; const Kmax = Eph - state.phi;
  return { Eph, Kmax, Vs: Math.max(0, Kmax), emission: Kmax > 0 };
}

function getCurrent(v, phys) {
  if (!phys.emission) return 0;
  const Isat = state.I + 0.02;
  if (v < -phys.Vs) return 0;
  if (v > 0) return Isat;
  return Isat * (1 - Math.exp( -2 * (v + phys.Vs) ));
}

function getLightProps(f) {
  let r=0, g=0, b=0, name="";
  if(f<400){r=100;name="Inframerah";}else if(f<480){r=255;name="Merah";}else if(f<510){r=255;g=140;name="Jingga";}
  else if(f<540){r=255;g=255;name="Kuning";}else if(f<600){g=255;name="Hijau";}else if(f<670){g=220;b=255;name="Biru Muda";}
  else if(f<750){r=50;g=50;b=255;name="Biru";}else if(f<790){r=160;b=240;name="Ungu";}else{r=140;b=210;name="Ultraviolet";}
  return { color: `rgb(${r},${g},${b})`, name };
}

let lastEmissionState = false;

function updateTutor(phys, light) {
  const box = $('tutorBox'), head = $('tutorHead'), msg = $('tutorMsg');
  
  if (phys.emission !== lastEmissionState) {
    if (phys.emission) sfx('success');
    else sfx('error');
    lastEmissionState = phys.emission;
  }

  if (!phys.emission) {
    box.style.borderLeftColor = "var(--st-err)"; head.innerHTML = `<span style="color:var(--st-err)">üõë GAGAL LEPAS</span>`;
    msg.innerHTML = `Logam <b>${state.matName}</b> (${state.ec}) mengikat elektron kuat sekali (<span class="hl">${state.phi.toFixed(2)} eV</span>).<br>Energi foton <b>${light.name}</b> cuma <span class="hl hl-err">${phys.Eph.toFixed(2)} eV</span>. Kurang kuat!`;
    return;
  }
  if (state.V < -phys.Vs) {
    box.style.borderLeftColor = "var(--st-warn)"; head.innerHTML = `<span style="color:var(--st-warn)">‚ö†Ô∏è TERTOLAK TEGANGAN</span>`;
    msg.innerHTML = `Elektron berhasil lepas dari kulit terluar <b>${state.ec}</b>! <br>Tapi baterai melawan dengan <b>${state.V.toFixed(2)} V</b>, jadi arus berhenti.`;
  } else {
    box.style.borderLeftColor = "var(--st-ok)"; head.innerHTML = `<span style="color:var(--st-ok)">‚úÖ ARUS MENGALIR</span>`;
    msg.innerHTML = `Sukses! Elektron valensi <b>${state.ec}</b> terlepas. <br>Energi Kinetik sisa: <span class="hl hl-ok">${phys.Kmax.toFixed(2)} eV</span>.`;
  }
}

function draw() {
  const w = $('cv').width, hC = $('cv').height, pad = 60;
  const phys = calculatePhysics(), light = getLightProps(state.f);
  
  $('mEph').innerText = phys.Eph.toFixed(2) + " eV"; $('mK').innerText = (phys.Kmax>0?phys.Kmax:0).toFixed(2)+" eV";
  $('mVs').innerText = phys.Vs.toFixed(2) + " V"; $('colName').innerText = light.name; $('colName').style.color = light.color;
  $('vI').innerText = Math.round(state.I * 100) + "%";
  $('configDisp').innerHTML = `Konfigurasi: <b>${state.ec}</b>`;
  updateTutor(phys, light);

  ctx.fillStyle = "#050505"; ctx.fillRect(0,0,w,hC);
  
  ctx.strokeStyle = "#1e293b"; ctx.lineWidth = 1; ctx.beginPath();
  for(let v=-MAX_V;v<=MAX_V;v++){let x=map(v,-MAX_V,MAX_V,pad,w-pad); ctx.moveTo(x,pad); ctx.lineTo(x,hC-pad);}
  for(let i=0;i<=1.2;i+=0.2){let y=map(i,0,1.2,hC-pad,pad); ctx.moveTo(pad,y); ctx.lineTo(w-pad,y);}
  ctx.stroke();

  ctx.strokeStyle="#475569"; ctx.lineWidth=2; ctx.beginPath();
  ctx.moveTo(pad,hC-pad); ctx.lineTo(w-pad,hC-pad); 
  let x0=map(0,-MAX_V,MAX_V,pad,w-pad); ctx.moveTo(x0,pad); ctx.lineTo(x0,hC-pad); ctx.stroke();
  
  ctx.fillStyle="#94a3b8"; ctx.font="12px sans-serif";
  ctx.fillText("-" + MAX_V + "V",pad,hC-pad+20); 
  ctx.fillText("+" + MAX_V + "V",w-pad-20,hC-pad+20); 
  ctx.fillText("0V",x0-8,hC-pad+20);

  ctx.save(); ctx.strokeStyle=light.color; ctx.lineWidth=4; ctx.lineCap="round"; ctx.lineJoin="round";
  ctx.shadowColor=light.color; ctx.shadowBlur=(state.I*20)+5; 
  ctx.beginPath(); let first=true;
  for(let px=0;px<=w-2*pad;px+=4){
    let vVal=-MAX_V+(px/(w-2*pad))*(MAX_V*2); let iVal=getCurrent(vVal,phys);
    let x=map(vVal,-MAX_V,MAX_V,pad,w-pad); let y=map(iVal,0,1.2,hC-pad,pad);
    if(first){ctx.moveTo(x,y);first=false;}else ctx.lineTo(x,y);
  }
  ctx.stroke(); ctx.restore();

  if(phys.emission){
    let xStop=map(-phys.Vs,-MAX_V,MAX_V,pad,w-pad);
    ctx.save(); ctx.strokeStyle="#ff0055"; ctx.shadowColor="#ff0055"; ctx.shadowBlur=15; ctx.setLineDash([5,5]); ctx.lineWidth=2;
    ctx.beginPath(); ctx.moveTo(xStop,pad); ctx.lineTo(xStop,hC-pad); ctx.stroke(); ctx.restore();
    ctx.fillStyle="#ff0055"; ctx.font="bold 12px sans-serif"; ctx.fillText(`Vs`,xStop+5,pad+15);
  }

  let curI=getCurrent(state.V,phys);
  let dx=map(state.V,-MAX_V,MAX_V,pad,w-pad); let dy=map(curI,0,1.2,hC-pad,pad);
  ctx.fillStyle="white"; ctx.beginPath(); ctx.arc(dx,dy,7,0,Math.PI*2); ctx.fill(); ctx.strokeStyle="black"; ctx.lineWidth=2; ctx.stroke();
}

function map(v,i1,i2,o1,o2){return o1+(o2-o1)*((v-i1)/(i2-i1));}
function loadMaterial(m){state.phi=m.p;state.matName=m.n;state.ec=m.ec;$('rPhi').value=m.p;$('search').value=m.n;$('vPhi').innerText=m.p.toFixed(2);draw();}
function reset(){sfx('blip');let def=DB.find(x=>x.n==="Natrium");loadMaterial(def);state.f=550;state.I=0.6;state.V=-3;state.sweep=false;startTime=Date.now();draw();}

$('rF').oninput=e=>{state.f=+e.target.value;$('vF').innerText=state.f;draw();};
$('rPhi').oninput=e=>{state.phi=+e.target.value;state.matName="Custom";state.ec="???";$('vPhi').innerText=state.phi.toFixed(2);draw();};
$('rI').oninput=e=>{state.I=+e.target.value;draw();};
$('search').oninput=e=>{let v=e.target.value.toLowerCase();let f=DB.find(x=>x.n.toLowerCase()===v||x.s.toLowerCase()===v);if(f){sfx('blip');loadMaterial(f);}};
$('cv').onmousemove=e=>{if(e.buttons===1){let r=$('cv').getBoundingClientRect();let v=map(e.clientX-r.left,60,$('cv').width-60,-MAX_V,MAX_V);state.V=Math.max(-MAX_V,Math.min(MAX_V,v));state.sweep=false;draw();}};
$('btnSweep').onclick=()=>{state.sweep=!state.sweep;if(state.sweep)loop();};
function loop(){if(!state.sweep)return;state.V+=0.05;if(state.V>MAX_V)state.V=-MAX_V;draw();requestAnimationFrame(loop);}

init();
</script>
</body>
</html>
